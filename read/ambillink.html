<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Ambil Product Link dari Scrapt</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  max-width: 900px;
  margin: 30px auto;
}
textarea {
  width: 100%;
  height: 320px;
  margin-top: 12px;
  font-family: monospace;
}
button {
  margin-top: 10px;
  padding: 8px 16px;
}
</style>
</head>
<body>

<h3>Ambil Product Link dari Scrapt</h3>

<input type="file" id="fileInput" accept=".csv">

<textarea id="output" placeholder="Hasil Product Link muncul di sini..."></textarea>

<button onclick="copyResult()">Copy Semua</button>

<script>
document.getElementById('fileInput').addEventListener('change', e => {
  const file = e.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = () => extractLinks(reader.result);
  reader.readAsText(file, 'utf-8');
});

function extractLinks(text) {
  const lines = text.split(/\r?\n/).filter(Boolean);
  const result = new Set(); // auto hapus duplikat

  const regex = /https:\/\/shopee\.co\.id\/product\/\d+\/\d+/g;

  for (const line of lines) {
    const matches = line.match(regex);
    if (matches) {
      matches.forEach(url => result.add(url));
    }
  }

  document.getElementById('output').value =
    Array.from(result).join('\n');
}

function copyResult() {
  const t = document.getElementById('output');
  t.select();
  document.execCommand('copy');
  alert('Berhasil dicopy (hanya link valid Shopee)');
}
</script>


</body>
</html>
